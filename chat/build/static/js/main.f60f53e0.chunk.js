(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{115:function(e,t,n){e.exports=n(116)},116:function(e,t,n){var r=n(71),a=n(12),u=a(n(1)),o=a(n(13));n(120);var i=a(n(122)),l=r(n(197));o.default.render(u.default.createElement(i.default,null),document.getElementById("root")),l.unregister()},120:function(e,t,n){},122:function(e,t,n){var r=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(19)),u=r(n(20)),o=r(n(21)),i=r(n(22)),l=r(n(23)),s=r(n(1)),c=n(27),d=r(n(30)),f=r(n(164)),v=r(n(196)),h=function(e){function t(){return(0,a.default)(this,t),(0,o.default)(this,(0,i.default)(t).apply(this,arguments))}return(0,l.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return s.default.createElement(c.Provider,{store:d.default},s.default.createElement("div",null,s.default.createElement("div",{className:"content"},s.default.createElement(v.default,null),s.default.createElement(f.default,null))))}}]),t}(s.default.Component);t.default=h},129:function(e,t,n){var r=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.clearUsers=t.gotNewUser=t.gotUsers=void 0;var a=r(n(73));t.gotUsers=function(e){return{type:"GOT_USERS",users:e}};t.gotNewUser=function(e){return{type:"GOT_NEW_USER",user:e}};t.clearUsers=function(){return{type:"CLEAR_USERS"}};var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GOT_USERS":return t.users;case"GOT_NEW_USER":return e.find(function(e){return e.id===t.user.id})?e:[].concat((0,a.default)(e),[t.user]);case"CLEAR_USERS":return[];default:return e}};t.default=u},133:function(e,t,n){var r=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.gotNewMessage=t.gotMessages=void 0;var a=r(n(73));t.gotMessages=function(e){return{type:"GOT_MESSAGES",messages:e}};t.gotNewMessage=function(e){return{type:"GOT_NEW_MESSAGE",message:e}};var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GOT_MESSAGES":return t.messages?t.messages:[];case"GOT_NEW_MESSAGE":return[t.message].concat((0,a.default)(e));default:return e}};t.default=u},134:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.clearUser=t.gotUser=void 0;t.gotUser=function(e){return{type:"GOT_USER",user:e}};t.clearUser=function(){return{type:"CLEAR_USER"}};var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GOT_USER":return t.user;case"CLEAR_USER":return{};default:return e}};t.default=n},135:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.clearReceiver=t.gotReceiver=void 0;t.gotReceiver=function(e){return{type:"GOT_RECEIVER",receiver:e}};t.clearReceiver=function(){return{type:"CLEAR_RECEIVER"}};var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GOT_RECEIVER":return t.receiver;case"CLEAR_RECEIVER":return{};default:return e}};t.default=n},136:function(e,t,n){var r=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(0,r(n(137)).default)("http://localhost:3000");a.connect();var u=a;t.default=u},161:function(e,t){},164:function(e,t,n){var r=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(19)),u=r(n(20)),o=r(n(21)),i=r(n(22)),l=r(n(23)),s=r(n(1)),c=n(27),d=r(n(165)),f=r(n(190)),v=r(n(191)),h=function(e){function t(){return(0,a.default)(this,t),(0,o.default)(this,(0,i.default)(t).apply(this,arguments))}return(0,l.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=d.default;return this.props.user.id&&!this.props.receiver.id?e=f.default:this.props.user.id&&this.props.receiver.id&&(e=v.default),s.default.createElement(e,null)}}]),t}(s.default.Component),p=(0,c.connect)(function(e){return{user:e.user,receiver:e.receiver}})(h);t.default=p},165:function(e,t,n){var r=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(166)),u=r(n(19)),o=r(n(20)),i=r(n(21)),l=r(n(22)),s=r(n(23)),c=r(n(29)),d=r(n(1)),f=n(96),v=n(30),h=function(e){function t(){var e;return(0,u.default)(this,t),(e=(0,i.default)(this,(0,l.default)(t).call(this))).state={name:"",password:""},e.handleChange=e.handleChange.bind((0,c.default)((0,c.default)(e))),e.handleSubmit=e.handleSubmit.bind((0,c.default)((0,c.default)(e))),e}return(0,s.default)(t,e),(0,o.default)(t,[{key:"handleChange",value:function(e,t){this.setState((0,a.default)({},e,t))}},{key:"handleSubmit",value:function(){(0,v.login)(this.state)}},{key:"render",value:function(){var e=this;return d.default.createElement(f.View,{style:p.container},d.default.createElement(f.Text,{style:p.text},"Enter your name and password:"),d.default.createElement(f.TextInput,{onChangeText:function(t){return e.handleChange("name",t)},returnKeyType:"next",autoCorrect:!1,onSubmitEditing:function(){return e.passwordInput.focus()},style:p.input}),d.default.createElement(f.TextInput,{onChangeText:function(t){return e.handleChange("password",t)},secureTextEntry:!0,returnKeyType:"go",autoCapitalize:"none",style:p.input,ref:function(t){return e.passwordInput=t}}),d.default.createElement(f.TouchableOpacity,{onPress:this.handleSubmit,style:p.button},d.default.createElement(f.Text,{style:p.buttonText},"Login")))}}]),t}(d.default.Component);t.default=h;var p=f.StyleSheet.create({container:{alignItems:"center",height:"100%",width:"100%"},text:{fontSize:20,fontWeight:"bold"},input:{height:40,width:"90%",borderWidth:.5,borderColor:"black",color:"#000",textAlign:"center",marginTop:10},button:{width:"75%",backgroundColor:"blue",borderRadius:50,alignItems:"center",justifyContent:"center",marginTop:20,paddingVertical:15},buttonText:{color:"#FFF",textAlign:"center",fontSize:15,fontWeight:"bold"}})},190:function(e,t,n){var r=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(19)),u=r(n(20)),o=r(n(21)),i=r(n(22)),l=r(n(23)),s=r(n(29)),c=r(n(1)),d=n(96),f=n(27),v=n(30),h=function(e){function t(){var e;return(0,a.default)(this,t),(e=(0,o.default)(this,(0,i.default)(t).call(this))).setReceiver=e.setReceiver.bind((0,s.default)((0,s.default)(e))),e}return(0,l.default)(t,e),(0,u.default)(t,[{key:"setReceiver",value:function(e){(0,v.setReceiver)(e)}},{key:"render",value:function(){var e=this;return c.default.createElement(d.View,{style:g.container},this.props.users.filter(function(t){return t.id!==e.props.user.id}).map(function(t){return c.default.createElement(d.View,{key:t.id,style:g.userContainer},c.default.createElement(d.Text,{style:g.name},t.name),c.default.createElement(d.TouchableOpacity,{style:g.buttonContainer,onPress:function(){return e.setReceiver(t)}},c.default.createElement(d.Text,{style:g.buttonText},"Chat")))}))}}]),t}(c.default.Component),p=(0,f.connect)(function(e){return{user:e.user,users:e.users}})(h);t.default=p;var g=d.StyleSheet.create({container:{alignItems:"center",backgroundColor:"steelblue",height:"100%",width:"100%"},userContainer:{width:"90%",borderWidth:1,borderColor:"#fff",flexDirection:"column",alignItems:"center",marginTop:20,marginBottom:20,paddingTop:20,paddingBottom:20},name:{textAlign:"center",color:"#fff",fontSize:25,fontWeight:"bold",marginBottom:20},buttonContainer:{borderRadius:50,backgroundColor:"#fff",paddingVertical:15,width:"75%"},buttonText:{color:"steelblue",textAlign:"center"}})},191:function(e,t,n){var r=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(19)),u=r(n(20)),o=r(n(21)),i=r(n(22)),l=r(n(23)),s=r(n(29)),c=r(n(1)),d=n(27),f=n(30),v=r(n(192)),h=r(n(193));n(194);var p=function(e){function t(e){var n;return(0,a.default)(this,t),(n=(0,o.default)(this,(0,i.default)(t).call(this,e))).send=n.send.bind((0,s.default)((0,s.default)(n))),n}return(0,l.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){(0,f.openChat)({user:this.props.user,receiver:this.props.receiver})}},{key:"send",value:function(e){(0,f.sendMessage)(e.text,this.props.user,this.props.receiver)}},{key:"render",value:function(){return c.default.createElement("div",{className:"app"},c.default.createElement(v.default,null),c.default.createElement(h.default,null))}}]),t}(c.default.Component),g=(0,d.connect)(function(e){return{messages:e.messages,user:e.user,receiver:e.receiver}})(p);t.default=g},192:function(e,t,n){var r=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(19)),u=r(n(20)),o=r(n(21)),i=r(n(22)),l=r(n(23)),s=r(n(1)),c=n(27),d=function(e){function t(){return(0,a.default)(this,t),(0,o.default)(this,(0,i.default)(t).apply(this,arguments))}return(0,l.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return s.default.createElement("ul",{className:"message-list"},this.props.messages.slice(0).reverse().map(function(e){return s.default.createElement("li",{key:e._id,className:"mymessage"},s.default.createElement("div",null,e.user.name),s.default.createElement("div",null,e.text))}))}}]),t}(s.default.Component),f=(0,c.connect)(function(e){return{user:e.user,messages:e.messages}})(d);t.default=f},193:function(e,t,n){var r=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(19)),u=r(n(20)),o=r(n(21)),i=r(n(22)),l=r(n(23)),s=r(n(29)),c=r(n(1)),d=n(27),f=n(30),v=function(e){function t(e){var n;return(0,a.default)(this,t),(n=(0,o.default)(this,(0,i.default)(t).call(this,e))).state={message:""},n.handleChange=n.handleChange.bind((0,s.default)((0,s.default)(n))),n.handleSubmit=n.handleSubmit.bind((0,s.default)((0,s.default)(n))),n}return(0,l.default)(t,e),(0,u.default)(t,[{key:"handleChange",value:function(e){this.setState({message:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault(),(0,f.sendMessage)(this.state.message,this.props.user,this.props.receiver),this.setState({message:""})}},{key:"render",value:function(){return c.default.createElement("form",{className:"send-message-form",onSubmit:this.handleSubmit},c.default.createElement("input",{onChange:this.handleChange,value:this.state.message,placeholder:"Type your message and hit ENTER.",type:"text"}))}}]),t}(c.default.Component),h=(0,d.connect)(function(e){return{user:e.user,receiver:e.receiver}})(v);t.default=h},194:function(e,t,n){},196:function(e,t,n){var r=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(19)),u=r(n(20)),o=r(n(21)),i=r(n(22)),l=r(n(23)),s=r(n(29)),c=r(n(1)),d=n(27),f=n(30),v=function(e){function t(){var e;return(0,a.default)(this,t),(e=(0,o.default)(this,(0,i.default)(t).call(this))).logoutB=e.logoutB.bind((0,s.default)((0,s.default)(e))),e.returnToUsers=e.returnToUsers.bind((0,s.default)((0,s.default)(e))),e}return(0,l.default)(t,e),(0,u.default)(t,[{key:"logoutB",value:function(){this.props.user.id&&(0,f.logout)()}},{key:"returnToUsers",value:function(){this.props.user.id&&this.props.receiver.id&&(0,f.chooseChat)()}},{key:"render",value:function(){var e=this;return c.default.createElement("div",{className:"title-cont"},c.default.createElement("div",{className:"title"},"Networks Chat App"),c.default.createElement("a",{href:"/",onClick:function(t){t.preventDefault(),e.returnToUsers()}},c.default.createElement("div",{className:"menu-link"},"User list")),c.default.createElement("a",{href:"/",onClick:function(t){t.preventDefault(),e.logoutB()}},c.default.createElement("div",{className:"menu-link"},"Logout")))}}]),t}(c.default.Component),h=(0,d.connect)(function(e){return{user:e.user,receiver:e.receiver}})(v);t.default=h},197:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.register=function(e){if("serviceWorker"in navigator){var t=new URL("",window.location.href);if(t.origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");n?(!function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):r(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):r(t,e)})}},t.unregister=function(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})};var n=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function r(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}},30:function(e,t,n){var r=n(12),a=n(71);Object.defineProperty(t,"__esModule",{value:!0});var u={login:!0,logout:!0,chooseChat:!0,openChat:!0,setReceiver:!0,sendMessage:!0};t.default=t.sendMessage=t.setReceiver=t.openChat=t.chooseChat=t.logout=t.login=void 0;var o=n(64),i=a(n(129));Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(u,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))});var l=a(n(133));Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(u,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))});var s=a(n(134));Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(u,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))});var c=a(n(135));Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(u,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))});var d=r(n(136)),f=(0,o.combineReducers)({users:i.default,messages:l.default,user:s.default,receiver:c.default}),v=(0,o.createStore)(f,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());d.default.on("priorMessages",function(e){v.dispatch((0,l.gotMessages)(e))}),d.default.on("userCreated",function(e){var t=e.user,n=e.users;v.dispatch((0,s.gotUser)(t)),v.dispatch((0,i.gotUsers)(n))}),d.default.on("newUser",function(e){v.dispatch((0,i.gotNewUser)(e))}),d.default.on("incomingMessage",function(e){v.dispatch((0,l.gotNewMessage)(e))});t.login=function(e){d.default.emit("newUser",e)};t.logout=function(){v.dispatch((0,s.clearUser)()),v.dispatch((0,c.clearReceiver)()),v.dispatch((0,i.clearUsers)())};t.chooseChat=function(){v.dispatch((0,c.clearReceiver)())};t.openChat=function(e){d.default.emit("chat",e)};t.setReceiver=function(e){v.dispatch((0,c.gotReceiver)(e))};t.sendMessage=function(e,t,n){d.default.emit("message",{text:e,sender:t,receiver:n})};var h=v;t.default=h}},[[115,2,1]]]);
//# sourceMappingURL=main.f60f53e0.chunk.js.map